<!DOCTYPE html>
<html>

<head>
    <title>Firebase Test</title>
    <!-- ✅ Use the UMD version of Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>

<body>
    <h1>Firebase Realtime DB Test</h1>
    <button onclick="writeTestData()">Write</button>
    <button onclick="readTestData()">Read</button>

    <script>

        // 🔁 Replace with your actual config from Firebase Console
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyD02KjTOyFR1Tmn8y4-UE1YajjqPMQrSKM",
            authDomain: "test-2e19d.firebaseapp.com",
            projectId: "test-2e19d",
            storageBucket: "test-2e19d.firebasestorage.app",
            messagingSenderId: "340711849149",
            appId: "1:340711849149:web:e2635002a89bf0166b0bd4",
            measurementId: "G-VNWZSHZKCP"
        };

        // Initialize Firebase (compat version)
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();


        // ✅ Read from Firestore
        function readTestData() {
            db.collection("test_collection")
                .where("accountBasis", "==", "cash")
                .get()
                .then((querySnapshot) => {
                    if (querySnapshot.empty) {
                        alert("❗ No matching documents found");
                        return;
                    }

                    querySnapshot.forEach((doc) => {
                        console.log("✅ Match:", doc.id, doc.data());
                    });
                })
                .catch((error) => {
                    alert("❌ Query failed: " + error.message);
                });
        }

    </script>
</body>

</html>